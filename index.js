'use strict';module.exports=function(a,b){this.sbw=void 0==b?5:b;var c=this;this.element=document.querySelector(a),this.height=this.element.style.height,this.maxHeight=this.element.style.maxHeight,this.element.style.position='relative',this.orgPar=this.element.children[0],this.dirtion='',this.preStatus={},this.setOption=function(_ref){var d=_ref.dirtion;c.dirtion=d},this.init=function(){this.orgPar.style.cssText='height:100%;overflow-y:auto;overflow-x:hidden;padding-right: '+(this.sbw+20)+'px;width:100%;box-sizing:content-box;-moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    -khtml-user-select: none;\n    user-select: none; ',this.scrollBarHolder=document.createElement('div'),this.scrollBar=document.createElement('div'),this.scrollBarHolder.className='scrollbot-scrollbar-holder',this.showScrollBar=!1,this.scrollBarHolder.style.cssText='position:absolute;top:0;right:0px;height:100%;background:#222;width:'+this.sbw+'px;display:'+(this.showScrollBar?'block':'none'),this.scrollBar.className='scrollbot-scrollbar',this.scrollBar.style.cssText='position:absolute;top:0;right:0;height:20%;background:#666;width:'+this.sbw+'px;border-radius:2px',this.scrollBarHolder.appendChild(this.scrollBar),this.orgPar.appendChild(this.scrollBarHolder),this.scrollBarHolder.onmousedown=function(d){var f=c.orgPar.children[0].clientHeight,g=c.orgPar.clientHeight,h=100*(d.offsetY/g);c.orgPar.scrollTop=h/100*(f-g)},this.scrollBar.onmousedown=function(d){d.stopPropagation();var f=c.orgPar.children[0].clientHeight,g=c.orgPar.clientHeight,h=c.scrollBar.clientHeight,i=c.orgPar.scrollTop,j=d.pageY;document.onmousemove=function(k){var l=k.pageY;c.orgPar.scrollTop=i+(l-j)/(g-h)*(f-g)}},document.onmouseup=function(){document.onmousemove=null}},this.orgPar.addEventListener('scroll',function(){if(c.showScrollBar){var f=c.orgPar.children[0].clientHeight,g=c.orgPar.clientHeight,h=c.scrollBar.clientHeight,i=c.orgPar.scrollTop/(f-g);c.preStatus={top:c.orgPar.scrollTop,bottom:f-g-c.orgPar.scrollTop,innerHeight:f,outerHeight:g},c.scrollBar.style.top=100*i*(g-h)/g+'%'}}),this.setStyle=function(_ref2){var d=_ref2.block,f=_ref2.groove;for(var g in d)d.hasOwnProperty(g)&&'height'!==g&&(c.scrollBar.style[g]=d[g]);for(var h in f)f.hasOwnProperty(h)&&'height'!==h&&(c.scrollBarHolder.style[h]=f[h])},this.refresh=function(d){!c.height&&c.maxHeight&&(c.element.style.height='',c.element.style.height=c.element.clientHeight>c.maxHeight?c.maxHeight+'px':c.element.clientHeight+'px');var f=c.orgPar.children[0].clientHeight,g=c.orgPar.clientHeight;if(f<=g)return c.showScrollBar=!1,void(c.scrollBarHolder.style.display=''+(c.showScrollBar?'block':'none'));c.showScrollBar=!0,c.scrollBarHolder.style.display=''+(c.showScrollBar?'block':'none');c.scrollBar.style.height=100*(g/f)+'%';var i=0;'bottom'===c.dirtion&&(i=9999999999),'none'===c.dirtion&&(!d&&(i=c.preStatus.top),d&&(i=f-c.preStatus.innerHeight+c.preStatus.top)),c.orgPar.scrollTop=i},c.init(),c.refresh()};